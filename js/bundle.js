!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1)},function(e,t,n){"use strict";function i(e,t,n){r(),function(e,t,n){var i=document.querySelector(".modal");null!=i&&i.remove();var o=document.createElement("div");null!=t?o.classList.add("modal","modal-show",e,t):o.classList.add("modal","modal-show",e);o.innerHTML=0==n?'<div class="modal-inner"></div>':'\n        <div class="modal-inner">\n            \x3c!-- Крестик --\x3e\n            <div class="modal-close modal-close_btn"></div>\n        </div>\n    ';document.body.appendChild(o)}(e,t,n)}function o(){document.querySelector(".modal").remove(),overlay.classList.remove("modal-show")}function a(){document.querySelector(".modal").classList.remove("modal-show")}function r(){overlay.classList.add("modal-show")}function l({elemParent:e,elemClass:t,elemTag:n,elemInner:i}){this.elemClass=t,this.elemInner=i;var o=document.querySelector(e);this.addElem=function(){var e=document.createElement(n);"object"==typeof this.elemClass?e.classList.add(...this.elemClass):e.classList.add(this.elemClass),e.innerHTML=this.elemInner,o.appendChild(e)}}function c({btnClass:e,btnText:t,btnParent:n}){this.btnClass=e,this.btnText=t;var i=document.querySelector(n);this.createBtn=function(){var e=document.createElement("button");"object"==typeof this.btnClass?e.classList.add("btn",...this.btnClass):e.classList.add("btn",this.btnClass),e.innerHTML=this.btnText,i.appendChild(e)}}n.r(t);var s={georgQuest:!1,houseRenta:!1,garoldQuest:!1,huntingQuest:!1,trainAndreas:!1,visitFridrick:!1,haveMap:!1};function d(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return i;return-1}function m(e,t){return t=document.querySelector(e).getAttribute(t)}function u({recoverHP:e,price:t,text:n}){var i=h.heroHP;h.heroGold<t||0==h.heroGold?dialogue.innerHTML="Недостаточно денег для покупки":(i<100&&(i+=e),i>100&&(i=100),h.heroHP=i,dialogue.innerHTML="Ты хорошо пообедал "+n,h.heroGold-=t,hitPoint.innerHTML=i,hero_gold.innerHTML=h.heroGold)}function p({transactNum:e,transactType:t}){var n=h.heroGold;return t?(n+=e,h.heroGold=n,hero_gold.innerHTML=h.heroGold,!0):n>=e&&(n-=e,h.heroGold=n,hero_gold.innerHTML=h.heroGold,!0)}function b({elBaseClass:e,itemClass:t,imageBlockId:n,propId:i,nameId:o,itemType:a}){n=document.getElementById(n),i=document.getElementById(i),o=document.getElementById(o);n.className=e,n.classList.add(t),"weapon"==a?(i.innerHTML=h.heroDamage,o.innerHTML=h.heroWeapon):(i.innerHTML=h.heroArmor,o.innerHTML=h.heroEquip)}var v=[],h={heroName:"Герой",heroDamage:10,heroArmor:0,heroCrit:20,heroHP:100,heroGold:1e3,heroWeapon:"Пусто",heroEquip:"Пусто",heroIMG:'<img src="img/hero.png" alt="герой">',heroInfoPanel:function(){new l({elemParent:".map-container",elemClass:"hero-infobar",elemTag:"div",elemInner:`\n                <div class="hero-infobar_btn"></div>\n                <ul class="hero-skill">\n                    <li>\n                        <span>Урон:</span>\n                        <span id="weaponDamage">${this.heroDamage}</span>\n                    </li>\n                    <li>\n                        <span>Броня:</span>\n                        <span id="armorProp">${this.heroArmor}</span>\n                    </li>\n                    <li>\n                        <span>Крит:</span>\n                        <span>${this.heroCrit+"%"}</span>\n                    </li>\n                    <li>\n                        <span>Здоровье:</span>\n                        <span id="hitPoint">${this.heroHP}</span>\n                    </li>\n                    <li>\n                        <span>Золото:</span>\n                        <span id="hero_gold">${this.heroGold}</span>\n                    </li>\n                </ul>\n                <ul class="hero-equip">\n                    <li>\n                        <span>Оружие:</span>\n                        <span id="weaponEquip">${this.heroWeapon}</span>\n                    </li>\n                    <li>\n                        <span>Доспех:</span>\n                        <span id="armorEquip">${this.heroEquip}</span>\n                    </li>\n                </ul>\n            `}).addElem()}};function x(){var e=document.querySelector(".hero-infobar"),t=document.querySelector(".hero");null!=e&&e.remove(),null!=t&&t.remove(),h.heroInfoPanel(),new l({elemParent:".map-container",elemClass:"hero",elemTag:"div",elemInner:`\n       <div class="hero-item">\n           <span class="hero-name">Герой</span>\n           <div class="hero-img">\n               ${h.heroIMG}\n           </div>\n           <div class="hero-armor" id="heroArmor"></div>\n           <div class="hero-weapon" id="heroWeapon"></div>\n       </div>\n       `}).addElem(),function(){var e=d(v,"nameItem",h.heroWeapon),t=d(v,"nameItem",h.heroEquip);if(-1!=e){var n=v[e].classItem;heroWeapon.classList.add(n)}if(-1!=t){var i=v[t].classItem;heroArmor.classList.add(i)}}();var n=new c({btnClass:"panel-journal_btn",btnText:"Журнал",btnParent:".hero-infobar_btn"}),i=new c({btnClass:"panel-inv_btn",btnText:"Инвентарь",btnParent:".hero-infobar_btn"});n.createBtn(),i.createBtn()}function g(e,t,n){var i=document.getElementById(t);if(i.innerHTML="",0==e.length){var o=document.createElement("li");i.appendChild(o),o.innerHTML="Пусто"}else{for(var a=0;a<e.length;a++){var r=e[a].typeItem,l=e[a].nameItem,c=e[a].priceItem,s=e[a].propertiesItem,d=e[a].countItem,m="";if(null!=d)m=" - <i>"+d+"</i> шт.";o=document.createElement("li");i.appendChild(o),o.innerHTML=`\n                    <label> <input type="radio" value="${l}" name="${n}"> ${l} - <span>${c} </span>(${r}:<em>${s}</em>)${m}\n                    </label>\n                `}document.getElementsByName(n)[0].checked=!0}}function f(){var e=document.querySelector(".modal");null!=e&&e.remove();var t,n;if(new l({elemParent:"#cont",elemClass:["modal","modal-show","inv-block"],elemTag:"div",elemInner:'\n            <p class="modal-title">Инвентарь\n                <div class="modal-close modal-close_btn"></div>\n            </p>\n            <ul id="inventory"></ul>\n            <div class="btn-block btn-block_inv"></div>\n        '}).addElem(),g(v,"inventory","hero_item"),"Пусто"!=document.getElementById("inventory").textContent){var i=new c({btnClass:"equipBtn",btnText:"Экипировать",btnParent:".btn-block_inv"}),o=new c({btnClass:"modal-close_btn",btnText:"Закрыть",btnParent:".btn-block_inv"});i.createBtn(),o.createBtn()}t=".equipBtn",null!=(n=document.querySelector(t))&&n.addEventListener("click",(function(){var e=document.querySelector('input[name = "hero_item"]:checked').value,t=d(v,"nameItem",e),n=v[t].typeItem;return"Предмет"==n?(new l({elemParent:".btn-block_inv",elemClass:"tooltip-inner",elemTag:"div",elemInner:"<p>Данный предмет невозможно экипировать</p>"}).addElem(),void setTimeout((function(){document.querySelector(".tooltip-inner").remove()}),1500)):e==h.heroWeapon||e==h.heroEquip?(new l({elemParent:".btn-block_inv",elemClass:"tooltip-inner",elemTag:"div",elemInner:"<p>Данный предмет уже экипирован</p>"}).addElem(),void setTimeout((function(){document.querySelector(".tooltip-inner").remove()}),1500)):("Урон"==n&&(h.heroDamage=10,h.heroDamage+=v[t].propertiesItem,h.heroWeapon=e,b({elBaseClass:"hero-weapon",itemClass:v[t].classItem,imageBlockId:"heroWeapon",propId:"weaponDamage",nameId:"weaponEquip",itemType:"weapon"})),void("Броня"==n&&(h.heroArmor=0,h.heroArmor+=v[t].propertiesItem,h.heroEquip=e,b({elBaseClass:"hero-armor",itemClass:v[t].classItem,imageBlockId:"heroArmor",propId:"armorProp",nameId:"armorEquip",itemType:"armor"}))))}))}function y(e){var t=h.heroGold,n=document.getElementById(e);n.innerHTML="";var i=document.createElement("li");n.appendChild(i),i.innerHTML=`\n            <p>Золото: <span>${t}</span></p>\n        `}function I(){hero_gold.innerHTML=h.heroGold}var T=[{questTitle:"Начало",questArticle:["Добрый маг привел меня в чувство и дал не много денег. Нужно добраться до города и осмотреться, может подвернеться какое ни будь дельце"]}];function k({questName:e,questArticle:t}){var n=d(T,"questTitle",e);if(-1==n){var i=[{}];i[0].questTitle=e,i[0].questArticle=[t],T.push(i[0])}else-1==T[n].questArticle.indexOf(t)&&T[n].questArticle.push(t)}function j(){var e=document.querySelector(".modal");null!=e&&e.remove();new l({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n            <p class="journal-title">Журнал</p>\n            <div class="modal-close modal-close_btn"></div>\n            <div class="journal-item" id="journal-item"></div>\n        '}).addElem(),function(e,t){var n=document.getElementById(t);n.innerHTML="";for(var i=0;i<e.length;i++){var o=document.createElement("div"),a=document.createElement("p"),r=document.createElement("ul");o.classList.add("quest-box"),a.classList.add("quest-title"),r.classList.add("journal-list"),a.innerHTML=e[i].questTitle,o.appendChild(a);for(var l=0;l<e[i].questArticle.length;l++){var c=document.createElement("li");c.innerHTML="- "+e[i].questArticle[l],r.appendChild(c)}o.appendChild(r),n.appendChild(o)}}(T,"journal-item"),r()}function N(){new l({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                <p class="dialogue_article" id="dialogue"></p>\n                <div class="btn-block btn-block_dialogue">\n                    <ul class="link-list" id="link_list"></ul>\n                </div>\n                '}).addElem()}function O({textObj:e,index:t,showTextNpc:n}){var i=document.getElementById("link_list");if(i.innerHTML="",n){var o,a,r=document.getElementById("dialogue"),l=e[t].npcName;o=null!=(a=null!=l?l:e[0].npcName)?"<b>"+a+":</b> "+e[t].textNPC:e[t].textNPC,r.innerHTML=o}for(var c=e[t].action,s=0;s<c.length;s++){var d=document.createElement("li");i.appendChild(d),d.innerHTML="- "+c[s]}}function w(e,t){return[...e.children].indexOf(t.target)}function P({textObj:e,textObjIndex:t,indexList:n}){var i,o=document.getElementById("dialogue"),a=e[t].npcName;i="<b>"+(null!=a?a:e[0].npcName)+":</b> "+e[t].answearsNPC[n],o.innerHTML=i}var L=[{npcName:"Рунольв",textNPC:"Ты спал два дня, я смог вытащить тебя из под завала, камнями завалило половину перевала. Ты получил сильный удар по голове, но нам повезло. Как ты себя чувствуешь?",action:["Голова гудит, в целом не плохо, кто ты?","Как ты спас меня?","Я не помню куда шел, что это за место?","Мои вещи целы? У меня было оружие и походный мешок","Как быть дальше?"],answearsNPC:{0:"я маг круга огня, наш монастырь выше в горах, не далеко от того перевала где ты проходил. Узкий проход между двумя скалами завалил камнепад, теперь я отрезан от свой обители. Мастера наверняка уже готовят ритуал, чтобы расчистить завал, но нужно быть осторожным, чтобы не вызвать повторный обвал камней, подготовка займет не одну неделю, пока я буду здесь",1:"я собирал в тех местах особую траву. Когда услышал грохот, то бежал со всех ног, камнепад не редкое явление в этих горах. Когда шум прекратился, я пошел посмотреть на последствия и обнаружил тебя, ты получил сильный удар по голове и чудом избежал погребения",2:"полуостров Хейдмарк, долина портового города Хэртланд. В моем доме ты можешь оставаться сколько тебе угодно",3:"я ничего не нашел возле тебя, вероятно ты бросил все, чтобы суметь уйти от комнепада и скажу тебе это удалось"}},{textNPC:"ты можешь остаться здесь или осмотреться в городе, будь осторожнее, в лесу водятся опасные твари. Не могу оставить тебя с пустыми руками, можешь взять кошелек на столе, там 100 монет, хватит на первое время",action:["Назад","Уйти"]}],C=[{nameItem:"Кожаная броня",text:"<b>Сантино:</b> Кожаная броня, надежное и достаточно прочное изделие, чтобы выдержать хорошую трепку. И довольно легкий, чтобы суметь убежать при возможности :)"},{nameItem:"Пластинчатый доспех",text:"<b>Сантино:</b> Пластинчатый доспех, выбор настоящего профессионала! За качество ручаюсь :)"},{nameItem:"Дубинка",text:"<b>Сантино:</b> Дубинка, чтобы крошить черепа болотным крысам самое то :)"},{nameItem:"Полуторный меч",text:"<b>Сантино:</b> Полуторный меч, достойное оружие, дашь отпор любому врагу. Тяжелый доспех может и не пробьешь, так что бей в сочленения! "},{nameItem:"Сокрушитель",text:"<b>Сантино:</b> Сокрушитель! С этим грозным красавцем смело можешь идти на мракориса! Только не забудь одеть доспех поплотнее, рог мракориса прошивает орка насквозь. "},{nameItem:"Охотничий нож",text:"<b>Сантино:</b> Охотничий нож, надежная вещь для разделки тушки. Мои ножи лучшие в городе :) "},{nameItem:"Слиток стали",text:"<b>Сантино:</b> Слиток стали, превосходный материал для изготовления любого оружия и брони"}],_=[{npcName:"Георг",textNPC:"задумчиво смотрит в даль ...",action:["Чем ты занимаешься?","Как обстановка на острове?","Как мне попасть в город?","Уйти"],answearsNPC:{0:"собираю урожай, сдаю в город, времена нынче смутные, торговать все сложнее",1:"люди обеспокоены тревожными новостями с пограничья, орки готовятся к войне. А у меня все хозяйство в открытом поле, если орки нагрянут, мне остается только собрать пожитки и бежать на континент. И чем я там займусь? Моих сбережений не хватит на новое хозяйство, пошло все прахом..."}},{textNPC:"в Хэртланд пускают только граждан или крестьян. Я могу помочь тебе с этим, если согласен на меня поработать",action:["Что нужно делать?","Назад"]},{textNPC:"Товар нужно поставить сегодня, а у меня не хватает рабочих рук, пройдоха Ханс опять упился, вторые сутки валяется на сене. Нужно собрать урожай, берешься?",action:["Собрать урожай","Назад"]},{textNPC:"Ты хорошо поработал. Возьми эту бумагу, там моя печать, стража пропустит тебя без проблем",action:["Уйти"]},{textNPC:"У меня много работы, если ты по делу говори",action:["Я просто проходил мимо"]}],q=[{npcName:"Стражник",textNPC:"Ни шагу дальше, город в военном положении, не пускаем чужаков!",action:["В чем причина военного положения?","Есть ли вообще возможность попасть в город?","Уйти"],answearsNPC:{0:"Скоро война с орками, мы должны быть готовы отразить любой удар!",1:"Мы пускаем только граждан Хэртланда или крестьян, ты не относишься ни к тем, ни к другим"}},{textNPC:"Работаешь на Георга, можешь проходить, но смотри без глупостей тут! В тюрьме всегда есть свободные места",action:["Уйти"]},{textNPC:"Если орки придут сюда я первым встречу их на стенах, наш город выстоит любой ценой!",action:["Уйти"]}],E=[{npcName:"Селина",textNPC:"Добро пожаловать в таверну Олений рог :)",action:["Говорить","Подкрепиться","Арендовать дом","Уйти"]},{textNPC:"Что тебя интересует?",action:[" Как обстановка в городе?","Что находится на востоке?","Что в южной стороне?","Какие слухи в последнее время?","Назад"],answearsNPC:{0:"Тревожных слухов о надвигающейся войне с орками все больше, кто имел возможность уехать уже уплыли на континент, оставшиеся поступают в ополчение и готовятся оборонять город. Тут все, что у нас есть, мы будем защищать город до последнего",1:"Ферма Фридрика, самый крупный землевладелец в долине. Он нанял армию наемников и перестал платить городу налоги. В предверии нашествия орков, город не может позволить себе гражданскую войну и мы зависим от продовольственных поставок Фридрика",2:"Туманная лощина, смертельные топи, жуткие твари, даже не думай ходить в те месте, если не знаешь где именно ходить, из трясины не выбраться",3:"На ферме Фридрика пропал его главный помощник. Важная персона, который вел все дела с городом. Фридрик назначил вознаграждение каждому кто поможет в поисках",4:"На окраине города живет пожилой вояка, Бернард. Когда то он воевал с орками, скрываясь с отрядом в туманной лощине, он знает топь вдоль и поперек. За не большие деньги он продаст тебе карту топей, где отмечены все безопасные участки"}},{textNPC:"Лучшее жаркое в Хэртланде :)",action:["Жаркое с подливой и шампиньонами (50 монет)","Запеченный лосось с картофелем (25 монет)","Назад"],answearsNPC:{0:"Ты хорошо пообедал (жаркое восстанавливает 100% здоровья)",1:"Ты хорошо пообедал (рыба восстанавливает по 50% здоровья)"}},{textNPC:"Просторное помещение, чистое постельное белье и никаких клопов :)",action:["Арендовать дом (250 монет. Отдых восстаналивает до 75% здоровья)","Назад"],answearsNPC:{0:"Держи ключи, дом прямо напротив таверны, можешь отдыхать там в любое время :)"}}],H=[{npcName:"Гарольд",textNPC:"Говори по делу, у меня много работы",action:["Товары","Задать вопрос","Уйти"],answearsNPC:{0:"Моя кузница производит снаряжение только для ополчения и граждан этого города, тебя я не знаю"}},{textNPC:"Говори по делу, у меня много работы",action:["Как продвигается дело?","Ты можешь изготовить особое оружие?","Какой материал нужен для ковки особого оружия и брони?","Назад"],answearsNPC:{0:"Моя кузница работает дни и ночи, чтобы обеспечить ополчение. Материала не хватает, груз из континента идет долго и опаздывает к назначенному сроку. Боюсь мы не успеем в должной мере обеспечить город оружием к нашествию орков",1:"Я могу изготовить самое острое оружие и самую крепкую броню, если есть соотвествующий материал, который добыть не очень то и просто",2:"Порошок из рога василиска наделяет металл уникальными свойствами! Всего то делов убить василиска и извлечь рог (усмехается)",3:"Чтобы стать гражданином кто то из влиятельных жителей города должен за тебя поручиться",4:"Мне некогда этим заниматься"}}],M=[{npcName:"Андреас",textNPC:"Говори по делу",action:["Тренироваться (200 монет)","Говорить","Уйти"],answearsNPC:{0:"Я не тренерую всех подряд"}},{textNPC:"Говори по делу",action:["Чем ты занимаешься?","Чему ты можешь научить?","Какое преимущество у критического удара?","Ты состоишь в обороне города?","Назад"],answearsNPC:{0:"Жду торговое судно, чтобы свалить из этого гиблого места",1:"Я учу бить сильно и наверняка, после моих занятий твои удары станут сильнее",2:"Критический удар увеличит твою атаку вдвое, но и враги имеют эту особенность, тут уж как повезет",3:"Оно мне надо? я выжил в стольких битвах, что могу тебе точно сказать, город обречен. Оружия не хватает, продовольствия мало, людей мало, а половина из тех кто есть впервые взяли в руки оружие. Безрассудная смерть не в моих планах, скоро я покину это место погибели",4:"Чтобы стать гражданином ты должен себя в чем то проявить, показать, что способен принести городу пользу. Сгодится и охотничье дело, я поручусь за тебя, если добудешь мне три хвоста болотной крысы и две шкуры варга"}},{textNPC:"Превосходно! Ты теперь гражданин Хэртланда",action:["Назад"]}],S=[{npcName:"Герхард",textNPC:"Кто ты такой и что тебе нужно?",action:["Что это за место?","Я могу пройти?","Уйти"],answearsNPC:{0:"Ферма Онара. Ты откуда такой взялся, не знаешь, где оказался? Тут свои порядки, чужим тут не рады!"}},{textNPC:"Пройти то конечно можно, но так как я первый раз тебя вижу гони сто монет!",action:["Отдать 100 монет","Вломить по полной","Назад"]},{textNPC:"Ладно, ладно мне проблемы не нужны, проходи уже ...",action:["Уйти"]},{textNPC:"Опять ты, убирайся с глаз моих!",action:["Вломить по полной","Уйти"]},{textNPC:"У тебя даже 100 монет не наберется, пошел прочь оборванец!",action:["Уйти"]},{textNPC:"Правильное решение, проходи давай. Если создашь тут проблемы утоплю в помойной яме!",action:["Уйти"]}],B=[{npcName:"Фридрик",textNPC:"Что привело тебя на мою землю?",action:["Я берусь за поиски твоего помощника, мне нужна детальная информация","Уйти"]},{textNPC:"предыстория простая, Джерард слинял прихватив мой сундук с ценным содержимым, мне нужно вернуть мое имущество",action:["Есть предположение куда мог скрыться Джерард?","Чего мне стоит ожидать?","Сколько я получу за это дело?","Почему ты уверен, что я не сбегу с твоим сундуком в случае успеха?","Покинуть ферму"],answearsNPC:{0:"Кругом отвесные скалы, из этой долины только два выхода, по морю или через перевал. Ни там, ни там муха не пролезет без моего ведома. Мои люди обшарили все окрестности, есть только одно место куда он мог бежать и куда мне пока не добраться, туманная лощина. Я послал туда лучших людей, ни один не вернулся, опасное место",1:"Джерард искусен в обращении с двуручным мечом. Андреас тебя потренерует, найдешь его в порту в городе, я дам ему знать, чтобы он взялся за тебя",2:"Награда будет щедрой, 1000 монет за сундук и еще 1000 за голову Джерарда",3:"Как я и сказал, на этом острове ничего не происходит без моего ведома, мои люди повсюду, я все вижу"}},{textNPC:"Я поведал тебе все, что необходимо, больше мне нечего добавить. Надеюсь, ты справишься с этим делом как можно скорее",action:["Уйти"]}],A=[{npcName:"Бернард",textNPC:"Если тебя интересует карта топей, у меня она самая точная, всего 150 монет",action:["Задать вопрос","Купить карту (150 монет)","Уйти"]},{textNPC:"Что тебя интересует?",action:["Ты можешь сам провести через болота?","На сколько надежны твои карты?","Какие монстры там водятся?","Назад"],answearsNPC:{0:"Я больше не хожу в туманную лощину, стало слишком опасно, тварей развелось всяких. Не давно приходило пару головорезов Фридрика, тоже брали карту. Их нет уже второй день, соневаюсь, что они еще живы",1:"Эти карты я писал еще во времена войны с орками когда жил в болотах и дополнял каждый раз когда ходил в те места до последнего времени, можешь не сомневаться в точности. В те смутные времена, не мало крови мы пустили оркам с моими храбрецами",2:"Судя по слухам в топях поселился орк, или группа орков, вероятно разведка, ведь скоро война. Ни один из тех кто ходил в топь в последнее время так и не вернулся. Будь осторожен"}}],$=[{textNPC:"Туманная лощина опасное место. Чтобы пройти через болота нужна карта или проводник, иначе рискуешь угодить в трясину",action:["Пройти дальше","Уйти"]},{textNPC:"Ты исследовал тропы указанные на карте, обходя опасные места в поисках следов Джерарда, пока наконец не обнаружил следы сапог. Идя по следу ты наткнулся на пещеру из которой пахло дымом от костра, оказалось за тобой следили, вдруг ты услышал за спиной нечеловеческий рев!",action:["В бой!"]},{textNPC:"Ты отправился в глубь топей мимо логова убитого орка и долго петлял по человеческим следам. Часа через два ты обнаружил скрытый в глубинах чащи деревянный домик и стал следить. Скоро оттуда вышел воин с длинным мечом за спиной. это был Джерард. За ним показался еще один человек в бордовой мантии, через густой туман его плохо различимое лицо показалось безумно знакомым, ты подкрался ближе и разглядел его, это был именно он, сомнений быть не могло. Тут под подошвой предательски хрустнула сухая ветка, ты был обнаружен ...",action:["далее"]}],G=[{npcName:"Рунольв",textNPC:"А ты не робкого десятка, не ожидал, что мы снова встретимся и уж тем более, что сможешь победить орка, ты сильный воин",action:["Рунольв! Что ты тут делаешь?","Ты же маг огня, как ты замешан во всем этом?","Как вы думайте выбираться отсюда?","Вероятно ты Джерард, а ты как связан с этой историей?","Как мне быть в этой ситуации?"],answearsNPC:{0:"Длинная история, раз ты здесь, значит тебя нанял Фридрик. Но не спеши с выводами, будь уверен, ты не услышал от него ни единого слова правды",1:"Маги тоже люди, суровые будни отшельника ордена не для меня. Я помог провернуть для Фридрика несколько крупных дел, в ответ на это, он должен был передать мне один ценный артефакт для моих исследований, ну и кое что из вырученных средств. Вместо этого Фридрик решил прикончить меня в ту ночь когда мы с тобой встретились. Я вовремя об этом узнал, забрал свое и теперь я здесь",2:"Мы ждем проводника, он выведет нас через болота на отдаленную часть острова, куда обычным путем не добраться, там нас будет ждать судно до континента. Зная Фридрика, этот план отхода у нас был готов давно"}},{textNPC:"Можешь не сомневаться Фридрик послал по твоему следу убийцу. Он и не думал тебе платить, как только ты сделаешь свое дело тебя убьют. Я же не убийца, иначе я бы не достал тебя с того перевала. Вот как мы поступим, если ты с нами, значит ты в доле, твоя доля 1000 монет. Мы дожидаемся проводника и уплываем на континент, там наши пути разойдутся. Мы не враги, я помог тебе и теперь ты помоги мне, что скажешь?",action:["Ладно, по рукам, я с вами","Хватит водить меня за нос, вы воры и обманщики! (Атаковать первым)"]},{npcName:"Джерард",textNPC:"Я был тем, кто должен был убить Рунольва. Мне осточертел Фридрик и надоело быть пешкой в его руках, Рунольву я многим обязан, в том числе и жизнью, вместе мы смогли быстро скрыться",action:["Как давно вы знакомы с Рунольвом?","Ты ведь наемник, ты предал своего хозяина","Почему Фридрик послал тебя убить Рунольва, а не кого то другого, кто сделает это наверняка?","Назад"],answearsNPC:{0:"С того момента как Рунольв начал работать с Фридриком, два года назад. Все дела мы проворачивали вдвоем, Фридрик хорошо разжился на наших удачных сделках. Это была опасная работа, Рунольв спас мне жизнь в одной передряге, я отплатил ему тем же",1:"Я наемный воин, а не убийца и у меня свои принципы, есть черта через которую я никогда не перешагну",2:"Все просто, Фридрик решил проверить мою верность. Я ожидал этого шага, поэтому мы зараннее подготовились"}}],W=[{textNPC:"Первым делом стоило обезвредить мага. Ты моментально выхватил кинжал и метнул в Рунольва, кинжал угодил точно в правый глаз, он умер еще до того как повалился на землю. Джерард зарычал, выхватывая из за спины двуручный меч!",action:["В атаку!"]},{textNPC:"Все враги убиты, надо найти сундук и возвращаться к Фридрику за наградой, нужно обследовать дом",action:["Далее"]},{npcName:"Убийца",textNPC:"У тебя две возможности, ты отдаешь сундук и я убиваю тебя быстро. Вторая возможность, я забираю сундук и ты умираешь в долгих муках",action:["Рунольв был прав, проклятый Фридрик все таки решил сыграть грязно! Чтож, у меня для тебя третий вариант чертов ублюдок, я перережу тебе горло и оставлю твое поганое тело гнить в этих болотах! (В Атаку!)"]},{textNPC:"Ты разделался с убийцей Фридрика, мощным выпадом отрубив ему голову, но сам ты тяжело ранен в шею, кровь льется без остановки, силы покидают тебя...",action:["Далее"]},{textNPC:"В доме ты обнаружил сундук Фридрика полный золота. Ты закрыл сундук и взяв его под мышку направился к выходу, надо сматываться поскорее, но на выходе из хижины тебя уже ждали...",action:["Далее"]}];!function(){new l({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n            <p class="journal-title">Начало</p>\n            <div class="begin-img begin-img_start"><img src="img/bg-main.jpg"></div>\n            <div class="start-article">\n                <p>В голове мрак и сумятица, раскалывается затылок, последнее, что ты помнишь это горный перевал и неожиданный камнепад, дальше только тьма. Ты очнулся в кровати, кто то тебя вытащил из злополучного перевала, можно встать и осмотреться...</p>\n            </div>\n            <div class="button-box" style="text-align:center;"></div>\n        '}).addElem(),(e=new c({btnClass:"start-game",btnText:"Далее",btnParent:".button-box"})).createBtn(),r();var e=document.querySelector(".start-game"),t=0;e.addEventListener("click",(function(){a(),i("modal-loc","mage-loc",!1),N(),O({textObj:L,index:0,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){var n=w(this,e);0==t&&(4!=n?P({textObj:L,textObjIndex:0,indexList:n}):(t=1,O({textObj:L,index:1,showTextNpc:!0}))),1==t&&(0==n&&(t=0,O({textObj:L,index:0,showTextNpc:!1})),1==n&&o())}}))}();var D=[{nameItem:"Меч Беллиара",typeItem:"Урон",priceItem:"1000",propertiesItem:30,classItem:"destroyer"},{nameItem:"Панцирь Дракона",typeItem:"Броня",priceItem:"1000",propertiesItem:15,classItem:"dragon-armor"}],R=[{nameItem:"Кожаная броня",typeItem:"Броня",priceItem:"200",propertiesItem:5,classItem:"leather-armor"},{nameItem:"Пластинчатый доспех",typeItem:"Броня",priceItem:"600",propertiesItem:10,classItem:"heavy-armor"},{nameItem:"Дубинка",typeItem:"Урон",priceItem:"130",propertiesItem:5,classItem:"club"},{nameItem:"Полуторный меч",typeItem:"Урон",priceItem:"250",propertiesItem:10,classItem:"sword"},{nameItem:"Сокрушитель",typeItem:"Урон",priceItem:"500",propertiesItem:15,classItem:"axe"},{nameItem:"Охотничий нож",typeItem:"Предмет",priceItem:"120",propertiesItem:"Охота"},{nameItem:"Слиток стали",typeItem:"Предмет",priceItem:"110",propertiesItem:"Ковка"}];function Q({itemName:e,itemProp:t,itemType:n}){var i=d(R,"nameItem",e);h[t]-=R[i].propertiesItem,h[n]="Пусто",x()}function F({productObj:e}){null==document.querySelector(".modal-item")&&(new l({elemParent:".modal-inner",elemClass:"modal-inner_item",elemTag:"div",elemInner:'\n        \x3c!-- Товары магазина --\x3e\n        <div class="modal-item">\n            <p class="modal-title">Товары</p>\n            <ul id="shop_list"></ul>\n            <div class="btn-block btn-block_seller"></div>\n        </div>\n        \x3c!-- Предметы игрока --\x3e\n        <div class="modal-item">\n            <p class="modal-title">Инвентарь</p>\n            <ul id="inventory"></ul>\n            <div class="btn-block btn-block_buyer"></div>\n        </div>\n        \x3c!-- Кошелек игрока --\x3e\n        <div class="modal-item">\n            <p class="modal-title">Кошелек</p>\n            <ul id="purse"></ul>\n        </div>\n        '}).addElem(),g(e,"shop_list","shop_item"),g(v,"inventory","hero_item"),y("purse"),new c({btnClass:"buy_btn",btnText:"Купить",btnParent:".btn-block_seller"}).createBtn(),z())}function z(){var e=document.getElementById("inventory").textContent,t=document.querySelector(".sell_btn");"Пусто"!=e&&null==t&&new c({btnClass:"sell_btn",btnText:"Продать",btnParent:".btn-block_buyer"}).createBtn()}function J({productObj:e}){!function(e,t){var n=d(e,"nameItem",t),i=e[n].priceItem/2,o={};for(var a in e[n])o[a]=e[n][a];o.priceItem=i;var r=e[n].priceItem;if(r>h.heroGold){document.querySelector(".dialogue_article").innerHTML="Не достаточно денег для покупки"}else{for(var l in h.heroGold-=r,y("purse"),I(),v)if(v[l].nameItem==t)return v[l].countItem+=1,void g(v,"inventory","hero_item");o.countItem=1,v.push(o),g(v,"inventory","hero_item")}}(e,document.querySelector('input[name = "shop_item"]:checked').value),z()}function K(){var e=document.querySelector('input[name = "hero_item"]:checked');null!=e?function(e){var t=d(v,"nameItem",e);if(-1!=t){v[t].countItem-=1,h.heroGold+=+v[t].priceItem;var n=document.querySelector('input[name = "hero_item"]'),i=document.querySelector('input[name = "hero_item"]:checked');if(null!=n)i.parentElement.lastElementChild.innerHTML=v[t].countItem;if(0==v[t].countItem){v.splice(t,1);var o=document.getElementById("weaponEquip").textContent,a=document.getElementById("armorEquip").textContent;o==e&&Q({itemName:e,itemProp:"heroDamage",itemType:"heroWeapon"}),a==e&&Q({itemName:e,itemProp:"heroArmor",itemType:"heroEquip"}),g(v,"inventory","hero_item")}if(0==v.length)document.querySelector(".sell_btn").remove();y("purse"),I()}}(e.value):document.querySelector(".dialogue_article").innerHTML="Предмет для продажи не выбран"}document.addEventListener("click",(function(e){e.target.classList.contains("sell_btn")&&K()})),shop.addEventListener("click",(function(){i("modal-loc","shop-loc"),new l({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n        <p class="dialogue_article"><b>Сантино:</b> Продаю по полной цене, выкупаю за половину :)</p>\n        <div class="btn-block btn-block_dialogue"></div>\n        '}).addElem(),new c({btnClass:"show_product",btnText:"Товары",btnParent:".btn-block_dialogue"}).createBtn(),new c({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn(),document.querySelector(".show_product").addEventListener("click",(function(){F({productObj:R}),document.querySelector(".buy_btn").addEventListener("click",(function(){J({productObj:R})})),function(e){var t=document.getElementsByName("shop_item"),n=document.querySelector(".dialogue_article");t[0].checked=!0;for(var i=0;i<t.length;i++)t[i].addEventListener("click",(function(){var t=this.value,i=d(e,"nameItem",t);n.innerHTML=e[i].text}))}(C)}))}));var U={rat:{name:"Крыса",damage:12,armor:0,crit:10,hitPoint:100,item:{nameItem:"Хвост крысы",typeItem:"Предмет",priceItem:80,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy rat-battle" key="rat"><img src="img/rat.png" alt="Болотная крыса"></div>'},varg:{name:"Варг",damage:30,armor:0,crit:10,hitPoint:100,item:{nameItem:"Шкура варга",typeItem:"Предмет",priceItem:100,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy varg-battle" key="varg"><img src="img/varg.png" alt="Варг"></div>'},vasilisk:{name:"Василиск",damage:40,armor:0,crit:10,hitPoint:100,item:{nameItem:"Рог мракориса",typeItem:"Предмет",priceItem:150,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy vasilisk-battle" key="vasilisk"><img src="img/vasilisk.png" alt="Василиск"></div>'},gerhard:{name:"Герхард",damage:35,armor:0,crit:10,hitPoint:100,image:'<div class="modal-enemy gerhard-battle" key="gerhard"><img src="img/gerhard.png" alt="Герхард"></div>'},ork:{name:"Орк",damage:45,armor:5,crit:20,hitPoint:100,image:'<div class="modal-enemy orc-battle" key="ork"><img src="img/orc.png" alt="Орк"></div>'},djerard:{name:"Джерард",damage:17,armor:0,crit:10,hitPoint:100,image:'<div class="modal-enemy derek-battle" key="djerard"><img src="img/derek.png" alt="Дерек"></div>'},killer:{name:"Убийца",damage:17,armor:0,crit:20,hitPoint:100,image:'<div class="modal-enemy killer-battle" key="killer"><img src="img/killer.png" alt="Убийца"></div>'}};function V({heroObj:e,enemyObj:t,retreat:n}){t.hitPoint=100;var i=[{name:"Пластинчатый доспех",tag:'<div class="hero-armor heavy-armor heavy-armor_battle"></div>'},{name:"Дубинка",tag:'<div class="hero-weapon club club_battle"></div>'},{name:"Кожаная броня",tag:'<div class="hero-armor leather-armor leather-armor_battle"></div>'},{name:"Полуторный меч",tag:'<div class="hero-weapon sword sword_battle"></div>'},{name:"Сокрушитель",tag:'<div class="hero-weapon axe axe_battle"></div>'},{name:"Меч Беллиара",tag:'<div class="hero-weapon destroyer destroyer_battle"></div>'},{name:"Панцирь Дракона",tag:'<div class="hero-armor dragon-armor dragon-armor_battle"></div>'}];new l({elemParent:".modal-inner",elemClass:"battle-block",elemTag:"div",elemInner:`\n        <div class="modal-inner_item">\n            <div class="modal-hero">\n                <div class="modal-hero_inner">\n                    ${e.heroIMG}\n                </div>\n            </div>\n            ${t.image}\n            <div class="battle-options">\n                <div class="battle-options_inner battle-options_action"></div>\n                <div class="battle-options_flex">\n                    <div class="battle-options_inner">\n                        <ul class="battle-list">\n                            <li><p class="battle-list_title">${e.heroName}</p></li>\n                            <li>\n                                <b>Урон:</b>\n                                <span>${e.heroDamage}</span>\n                            </li>\n                            <li>\n                                <b>Броня:</b>\n                                <span>${e.heroArmor}</span>\n                            </li>\n                            <li>\n                                <b>Крит:</b>\n                                <span>${e.heroCrit+"%"}</span>\n                            </li>\n                            <li>\n                                <b>Здоровье:</b>\n                                <span id='battleHP'>${e.heroHP}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="battle-options_inner">\n                        <ul class="battle-list">\n                            <li><p class="battle-list_title">${t.name}</p></li>\n                            <li>\n                                <b>Урон:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Броня:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Крит:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Здоровье:</b>\n                                <span>???</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            `}).addElem();var o=e.heroWeapon,a=e.heroEquip;function r(e,t){var n=document.querySelector(".modal-hero_inner"),o=document.createElement("div");e=i[t].tag,o.innerHTML=e,n.appendChild(o)}var s=d(i,"name",o);-1!=s&&r(o,s);var m=d(i,"name",a);(-1!=m&&r(a,m),new c({btnClass:"atack",btnText:"Атаковать",btnParent:".battle-options_action"}).createBtn(),n)&&new c({btnClass:"modal-close_btn",btnText:"Отступить",btnParent:".battle-options_action"}).createBtn()}function X({heroObj:e,enemyObj:t}){var n=e.heroDamage,i=e.heroHP,o=(e.heroArmor,e.heroCrit),a=(e.heroWeapon,e.heroEquip,t.damage-e.heroArmor),r=t.hitPoint,l=(t.armor,t.crit);t.name;function c(){var e=.5+100*Math.random();return e=Math.round(e)}c()<=o&&(n*=2),c()<=l&&(a*=2),r-=n,(i-=a)<1&&(i=1),t.hitPoint=r,h.heroHP=i,battleHP.innerHTML=i,x()}function Y({enemyObj:e}){return e.hitPoint<=0?(e.hitPoint=0,!0):h.heroHP<=1?(h.heroHP=1,!1):void 0}function Z({buttonClass:e,buttonText:t}){new l({elemParent:".battle-block",elemClass:["overlay-battle","overlay-battle_show"],elemTag:"div",elemInner:'\n            <div class="battle-result">\n                <p id="battle_mess"></p>\n                <div class="btn-block" id="btn_block"></div>\n            </div>\n         '}).addElem(),new c({btnClass:e,btnText:t,btnParent:"#btn_block"}).createBtn()}var ee,te,ne,ie,oe,ae,re,le,ce,se={win:"Ты победил",loss:"Поражение! Ты тяжело ранен и чудом сумел скрыться "};function de({fightResult:e,enemyObj:t,lossWeapon:n,resTextObj:i}){var o;if(e){o=i.win;var a=d(v,"nameItem","Охотничий нож"),r=t.item;if(0!=t&&-1!=a&&null!=r){var l=t.item.nameItem,c=d(v,"nameItem",l);if(-1!=c)v[c].countItem+=1;else{var s={};for(var m in t.item)s[m]=t.item[m];v.push(s)}return void(battle_mess.innerHTML=o+" (Добыча: "+l+")")}}else o=n?i.loss+"бросив свое оружие":i.loss;x(),battle_mess.innerHTML=o}function me({battleResult:e}){if(!e){var t=h.heroWeapon,n=d(v,"nameItem",t);return-1!=n&&(h.heroWeapon="Пусто",h.heroDamage-=v[n].propertiesItem,v.splice(n,1),!0)}return!1}function ue(e,t){new l({elemParent:".modal-inner",elemClass:"load",elemTag:"div",elemInner:'<img src="img/hourglass.png" alt="">'}).addElem(),new l({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n            <p class="dialogue_article" id="dialogue">${t} ...</p>\n            <div class="btn-block btn-block_dialogue" id="btn_block"></div>\n            `}).addElem(),setTimeout((function(e){new c({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn(),dialogue.innerHTML=e,document.querySelector(".load").classList.add("hide")}),5e3,e)}!function(){function e(){a(),i("modal-loc","fridrick_farm-loc",!1),V({heroObj:h,enemyObj:U.gerhard,retreat:!1}),document.querySelector(".atack").addEventListener("click",(function(){var e=m("[key]","key");X({heroObj:h,enemyObj:U[e]});var i=Y({enemyObj:U.gerhard});if(null!=i){if(Z({buttonClass:"modal-close_btn",buttonText:"Уйти"}),i){var o="Ты навалял Герхарду по полной программе";if(n){o="Ты навалял Герхарду по полной программе и вернул свои 100 монет";p({transactNum:100,transactType:!0})}battle_mess.innerHTML=o,t=!0}else battle_mess.innerHTML="Герхард избил тебя и искупал в помойной яме";x()}}))}var t=!1,n=!1;gerhard.addEventListener("click",(function(){var a=0;return i("modal-loc","gerhard-loc",!0),N(),t?(O({textObj:S,index:2,showTextNpc:!0}),void(document.querySelector(".link-list").onclick=function(e){0==w(this,e)&&(o(),job.classList.remove("hide-loc"),fridrick.classList.remove("hide-loc"))})):n?(O({textObj:S,index:3,showTextNpc:!0}),void(document.querySelector(".link-list").onclick=function(t){var n=w(this,t);0==n&&e(),1==n&&o()})):(O({textObj:S,index:0,showTextNpc:!0}),void(document.querySelector(".link-list").onclick=function(t){var i=w(this,t);if(0!=a){if(1==a){if(0==i)p({transactNum:100,transactType:!1})?(n=!0,O({textObj:S,index:a=5,showTextNpc:!0}),job.classList.remove("hide-loc"),fridrick.classList.remove("hide-loc")):(O({textObj:S,index:4,showTextNpc:!0}),a=4);return 1==i&&e(),void(2==i&&O({textObj:S,index:a=0,showTextNpc:!1}))}4!=a&&5!=a||0==i&&o()}else 0==i?P({textObj:S,textObjIndex:a,indexList:i}):1==i?(O({textObj:S,index:1,showTextNpc:!0}),a=1):o()}))}))}(),ee=1,job.addEventListener("click",(function(){ee++,i("modal-loc","job-loc",!1),ee>3?new l({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                <p class="dialogue_article"  id="dialogue">На данный момент нет работы ...</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>\n                    <button type="button" class="btn modal-close_btn">Уйти</button>\n                </div>\n                '}).addElem():(ue("Работа окончена, ты заработал 50 монет","Ты работаешь в поле"),h.heroGold+=50,I())})),function(){var e=!1,t=!1;function n(e){a();new l({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:`\n                <p class="journal-title">Эпилог</p>\n                <div class="begin-img"><img src="img/bg-main.jpg"></div>\n                <div class="start-article">\n                    ${e}\n                </div>\n                <div class="button-box" style="text-align:center;"></div>\n            `}).addElem(),new c({btnClass:"end-game",btnText:"Начать заново",btnParent:".button-box"}).createBtn(),document.querySelector(".end-game").addEventListener("click",(function(){window.location.reload()})),r()}function d(){a(),i("modal-loc","kill-runolv",!1),N(),O({textObj:W,index:0,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){0==w(this,e)&&(a(),i("modal-loc","hollow-loc",!1),V({heroObj:h,enemyObj:U.djerard,retreat:!1}),document.querySelector(".atack").addEventListener("click",(function(){var e=m("[key]","key");X({heroObj:h,enemyObj:U[e]});var t=Y({enemyObj:U.djerard});if(null!=t){Z({buttonClass:"next-action",buttonText:"Далее"});var o=document.querySelector(".next-action");t?(battle_mess.innerHTML="Джерард оказался хорошим воином, но не достаточно сильным, чтобы победить тебя, ты выиграл эту схватку",o.addEventListener("click",(function(){a(),i("modal-loc","djerard-die-loc",!1),N(),O({textObj:W,index:1,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){a(),i("modal-loc","house_inner-loc",!1),N(),O({textObj:W,index:4,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){a(),i("modal-loc","killer-loc",!1),N(),O({textObj:W,index:2,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){w(this,e),a(),i("modal-loc","hollow-loc",!1),V({heroObj:h,enemyObj:U.killer,retreat:!1}),document.querySelector(".atack").addEventListener("click",(function(){var e=m("[key]","key");X({heroObj:h,enemyObj:U[e]}),null!=Y({enemyObj:U.killer})&&(a(),i("modal-loc","hero-die",!1),N(),O({textObj:W,index:3,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){w(this,e),n("\n        <p>Бернард шел быстрым шагом, он опаздывал к условленному времени. Рунольв и Джерард ждали его в топях, только Бернард знал топь вдоль и поперек, чтобы провести их по тайной тропе и вывести с южной стороны болот. За это он получит 2000 золотых и судно на континент</p>\n\n        <p>Бернард углубился в топь и остановился в оцепенении возле старой хижины. На траве лежало обезглавленное тело. Бернард узнал его, отпетый убийца Фридрика. Пройдя чуть дальше Бернард обнаружил еще одно тело под деревом. Воин сжимавший рукоять меча сидел на земле, прислонившись спиной к дереву, другой рукой он прижимал страшную рану в шее. Он весь истек кровью, его голова была низко опущена, воин был мертв. Бернард узнал его, это был тот кому он продал карту топей! Не повезло бедняге. Осмотрев тело, Бернард обнаружил сундук с кучей золота и он знал откуда эта все. Рунольв и Джерард были мертвы, как и тот кто забрал у них это золото!</p>\n\n        <p>В такой ситуации Бернард долго думать не стал, он спешно прошел вглубь леса через болота по знакомым безопасным тропам и вышел на берег отдаленной части острова. На берегу стояла не большая посудина с парусом и веслами, которую Бернард пришвартовал сюда два дня назад. Он сел в нее и взял курс на континент, плыть всего полтора дня.</p>\n\n        <p>У Бернарда теперь много денег, он в мыслях попращался со старой жизнью проводника, построит дом на континенте и заживет новой счастливой жизнью. Так закончилась это приключение игрок, к сожалению ты погиб в этой истории, возможно если бы ты сделал другой выбор, твоя судьба могла сложиться по другому...</p>\n    ")})}))}}}}))):(battle_mess.innerHTML="Джерард оказался сильнее, неожиданным и быстрым ударом он ранил тебя в бок, ты проиграл эту битву",o.addEventListener("click",(function(){n("\n        <p>Джерард нанес завершающий удар в сердце убийце Рунольва, выдернул меч и в гневе нанес еще один удар пронзив бездыханного врага насквозь. После чего он вернулся к телу своего друга и опустился рядом с ним на колени. Джерард выдернул кинжал из глаза Рунольва и откинул в сторону, он похоронил друга под тенью большого дерева и некотрое время стоял над могилой в удручающем молчании.</p>\n        <p>- Спи спокойно друг мой, - сказал Джерард и покинул место битвы.</p>\n        <p>Джерард встретился с проводником в условленном месте. Проводника звали Бернард, тот самый, что торговал картами лощины, он ждал двоих, но увидев мрачное лицо Джерарда понял все без слов.</p>\n        <p>Они продолжили путь в глубь болот по тайным тропам, которые знал только Бернард, и через некоторое время вышли к берегу. Там стояла не большая галера, Джерард с Бернардом взошли на борт и отплыли к континенту.</p>\n        <p>В этой истории ты сделал не верный выбор и потерпел неудачу, можешь попробовать начать игру заново и на этот раз сделать правильный выбор. Удачи игрок!</p>\n    ")})))}})))}}function u(){t=!0,a(),i("modal-loc","cave-loc",!1),V({heroObj:h,enemyObj:U.ork,retreat:!1}),document.querySelector(".atack").addEventListener("click",(function(){var t=m("[key]","key");X({heroObj:h,enemyObj:U[t]});var n=Y({enemyObj:U.ork});if(null!=n){Z({buttonClass:"modal-close_btn",buttonText:"Уйти"});var i=me({battleResult:n});de({fightResult:n,enemyObj:U[t],lossWeapon:i,resTextObj:se})}n&&(e=!0)}))}hollow.addEventListener("click",(function(){var r=0;e?(r=2,i("modal-loc","hollow-hut",!1)):i("modal-loc","hollow-loc",!1),!t||e?(N(),O({textObj:$,index:r,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){var t=w(this,e);0!=r?2==r&&function(){var e=0;i("modal-loc","final-loc",!1),N(),O({textObj:G,index:e,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var i=w(this,t);if(0==e)return 3==i?void O({textObj:G,index:e=2,showTextNpc:!0}):4==i?void O({textObj:G,index:e=1,showTextNpc:!0}):void P({textObj:G,textObjIndex:e,indexList:i});if(1==e){if(0==i)return void n("\n        <p>Вы быстро собрали пожитки и выдвинулись к условленному месту для встречи с проводником. На месте уже ожидал проводник и это был тот самый Бернард, у которого ты купил карту топей.</p>\n        <p>Дальше путь лежал через глубь болот. Через смертельные топи Бернард вел вас уверенно, пока вы не вышли из леса с южной стороны, к отдаленной части острова. Там на причале стояла не большая посудина с большим парусом.</p>\n        <p>Оказалось, что Бернард тоже был в деле, это был их общий план по спасению из обреченного Хэртланда. Андреас был прав, через месяц, когда орки нагрянули в долину город быстро пал под натиском врага. Неизвестно смог ли покинть остров сам Андреас, как он и планировал, и что стало с Фридриком, не мог же он просто сидеть и дожидаться гибели, но это уже совсем другая история.</p>\n        <p>В этом приключении ты остался жив сделав правильный выбор. Ты выкарабкался из трудной ситуации и обрел достойных друзей. На этом игра окончена, удачи игрок!</p>");d()}if(2==e){if(3==i)return void O({textObj:G,index:e=0,showTextNpc:!1});P({textObj:G,textObjIndex:e,indexList:i})}}}():0==t?s.haveMap?(a(),i("modal-loc","cave-loc",!1),N(),O({textObj:$,index:1,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){u()}):(dialogue.innerHTML="Ты угодил в трясину и едва не захлебнулся, здоровье на минимуме",h.heroHP=1,x()):o()}):u()}))}(),function(){for(var e=document.querySelectorAll(".forest-battle"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(){i("modal-loc","forest-loc",!0);var e=this.id;V({heroObj:h,enemyObj:U[e],retreat:!0}),document.querySelector(".atack").addEventListener("click",(function(){var e=m("[key]","key");X({heroObj:h,enemyObj:U[e]});var t=Y({enemyObj:U[e]});if(null!=t){Z({buttonClass:"modal-close_btn",buttonText:"Уйти"});var n=me({battleResult:t});de({fightResult:t,enemyObj:U[e],lossWeapon:n,resTextObj:se})}console.log("Враг: "+U[e].hitPoint),console.log("Герой: "+h.heroHP),console.log(t)}))}))}(),te=!1,garold.addEventListener("click",(function(){var e=0;i("modal-loc","garold-loc"),N(),O({textObj:H,index:0,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var n=w(this,t);if(0==e){if(0==n){if(s.huntingQuest)return F({productObj:D}),void document.querySelector(".buy_btn").addEventListener("click",(function(){var e=d(v,"nameItem","Рог мракориса"),t=d(v,"nameItem","Слиток стали");-1!=e&&-1!=t?(v[e].countItem-=1,v[t].countItem-=1,0==v[e].countItem&&v.splice(e,1),t=d(v,"nameItem","Слиток стали"),0==v[t].countItem&&v.splice(t,1),g(v,"inventory","hero_item"),0==v.length&&document.querySelector(".sell_btn").remove(),J({productObj:D})):dialogue.innerHTML="Не хватает материалов для ковки"}));P({textObj:H,textObjIndex:e,indexList:n}),te||(H[1].action.splice(3,0,"Что нужно сделать, чтобы стать гражданином?","Ты можешь за меня поручиться?"),k({questName:"Гражданин Хэртланда",questArticle:"Гарольд изготовит мне особое оружие если я стану гражданином города. Чтобы стать гражданином, кто то из влиятельных жителей города должен за меня поручиться"}),te=!0,s.garoldQuest=te)}return 1==n&&O({textObj:H,index:e=1,showTextNpc:!0}),void(2==n&&o())}1!=e||(te?5!=n?P({textObj:H,textObjIndex:e,indexList:n}):O({textObj:H,index:e=0,showTextNpc:!1}):3!=n?P({textObj:H,textObjIndex:e,indexList:n}):O({textObj:H,index:e=0,showTextNpc:!1}))}})),house.addEventListener("click",(function(){i("modal-loc","house-loc",!1);var e="Ты хорошо отдохнул";h.heroHP<75&&(e="Ты хорошо отдохнул, часть здоровья восстановлено",h.heroHP=75,hitPoint.innerHTML=h.heroHP),ue(e,"Отдых")})),runolv.addEventListener("click",(function(){i("modal-loc","mage-loc_empty"),N(),document.querySelector(".dialogue_article").innerHTML="В доме никого нет ...",new c({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn(),k({questName:"Начало",questArticle:"После моего убытия Рунольв исчез, странно ..."})})),fridrick.addEventListener("click",(function(){var e=0;i("modal-loc","fridrick-loc",!0),N(),s.visitFridrick&&(e=2),O({textObj:B,index:e,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var n=w(this,t);0!=e?(1==e&&(4!=n?P({textObj:B,textObjIndex:e,indexList:n}):o()),2==e&&0==n&&o()):0==n?(O({textObj:B,index:e=1,showTextNpc:!0}),k({questName:"Пропавший помощник",questArticle:"Помощник Фридрика Джерард оказался вором и сбежал с золотом хозяина. Фридрик готов щедро заплатить за возврат сундука. Нужно найти безопасный способ пробраться в туманную лощину"}),k({questName:"Пропавший помощник",questArticle:"Фридрик договорился с Андреасом, теперь я могу тренироваться у него."}),s.trainAndreas=!0,s.visitFridrick=!0):o()}})),ne=4,tavern.addEventListener("click",(function(){var e=0;s.visitFridrick&&(E[1].action.splice(4,0,"Где найти проводника в туманную лощину?"),ne=5),i("modal-loc","tavern-loc"),N(),O({textObj:E,index:0,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var n=w(this,t);if(0!=e)return 1==e?(n!=ne&&(P({textObj:E,textObjIndex:e,indexList:n}),3==n&&(k({questName:"Пропавший помощник",questArticle:"У местного зажиточного крестьянина пропал главный помощник и за расследование этого дела назначена награда. Ферма Фридрика находится на востоке"}),gerhard.classList.remove("hide-loc")),4==n&&bernard.classList.remove("hide-loc")),void(n==ne&&O({textObj:E,index:e=0,showTextNpc:!1}))):2==e?(0==n&&u({recoverHP:50,price:50,text:"(жаркое восстанавливает 50 здоровья)"}),1==n&&u({recoverHP:25,price:25,text:"(рыба восстанавливает 25 здоровья)"}),void(2==n&&O({textObj:E,index:e=0,showTextNpc:!1}))):void(3!=e||(0==n?function({price:e}){var t=h.heroGold;t<250?dialogue.innerHTML="Не достаточно денег для аренды ":1!=s.houseRenta?(dialogue.innerHTML="Дом арендован, теперь можешь отдыхать там в любое время ",t-=250,h.heroGold=t,hero_gold.innerHTML=t,s.houseRenta=!0,house.classList.remove("hide-loc")):dialogue.innerHTML="Дом уже арендован, можно въезжать "}({price:250}):O({textObj:E,index:e=0,showTextNpc:!1})));0==n&&O({textObj:E,index:e=1,showTextNpc:!0}),1==n&&O({textObj:E,index:e=2,showTextNpc:!0}),2==n&&(s.houseRenta?dialogue.innerHTML="Дом уже арендован, можно въезжать ":O({textObj:E,index:e=3,showTextNpc:!0})),3==n&&o()}})),ie=!1,oe=!1,ae=0,andreas.addEventListener("click",(function(){var e=0,t=s.garoldQuest;if(t&&!ie){var n=M[1].action;n.splice(4,0,"Ты можешь помочь мне стать гражданином Хэртланда?")}i("modal-loc","andreas-loc"),N(),O({textObj:M,index:e,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(a){var r=w(this,a);if(0!=e)if(1!=e)2==e&&0==r&&O({textObj:M,index:e=0,showTextNpc:!1});else{if(t&&!ie)return 5!=r&&(P({textObj:M,textObjIndex:e,indexList:r}),4==r&&k({questName:"Гражданин Хэртланда",questArticle:"Андреас готов за меня поручиться, если я выполню его поручение (Добыть 3 хвоста болотной крысы и 2 шкуры варга)"})),void(5==r&&(e=0,ie=!0,n.splice(4,1),M[0].action.splice(2,0,"Сдать задание (3 хвоста крысы, 2 шкуры варга)"),O({textObj:M,index:e,showTextNpc:!1})));4!=r?P({textObj:M,textObjIndex:e,indexList:r}):O({textObj:M,index:e=0,showTextNpc:!1})}else{if(!ie&&!oe||ie&&oe)return 0==r&&(s.trainAndreas?p({transactNum:200,transactType:!1})?ae<5?(i("modal-loc","train-loc",!1),ue("Тренировка окончена, урон +1","Вы тренеруйтесь"),h.heroDamage+=1,weaponDamage.innerHTML=h.heroDamage,ae++):dialogue.innerHTML="Ты уже достаточно силен, мне больше нечему учить тебя":dialogue.innerHTML="Не достаточно монет для тренировки":P({textObj:M,textObjIndex:e,indexList:r})),1==r&&O({textObj:M,index:e=1,showTextNpc:!1}),void(2==r&&o());0==r&&P({textObj:M,textObjIndex:e,indexList:r}),1==r&&O({textObj:M,index:e=1,showTextNpc:!1}),2==r&&(function({item:e}){for(var t=v,n=[],i=[],o=0;o<e.length;o++){var a=d(t,"nameItem",e[o].itemName);n.push(a)}if(-1!=n.indexOf(-1))return!1;for(o=0;o<n.length;o++){var r=n[o],l=v[r].countItem,c=e[o].count;if(l<c)return!1;v[r].countItem-=c,0==v[r].countItem&&i.push(r)}for(o=i.length;o--;)v.splice(i[o],1);return!0}({item:[{itemName:"Хвост крысы",count:3},{itemName:"Шкура варга",count:2}]})?(O({textObj:M,index:e=2,showTextNpc:!0}),oe=!0,s.huntingQuest=oe,k({questName:"Гражданин Хэртланда",questArticle:"Я теперь гражданин Хэртланда"}),M[0].action.splice(2,1)):dialogue.innerHTML="Условие не выполнено"),3==r&&o()}}})),re=!1,le=!1,georg.addEventListener("click",(function(){var e=0;i("modal-loc","georg-loc"),N(),re?le?(O({textObj:_,index:4,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){0==w(this,e)&&o()}):(O({textObj:_,index:3,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(e){0==w(this,e)&&o()},le=!0,s.georgQuest=le,k({questName:"Начало",questArticle:"Георг предоставил мне пропуск, который поможет пройти в город"})):(O({textObj:_,index:0,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var n=w(this,t);return 0==e?(0!=n&&1!=n||P({textObj:_,textObjIndex:0,indexList:n}),3==n&&o(),void(2==n&&(e=1,O({textObj:_,index:1,showTextNpc:!0}),k({questName:"Начало",questArticle:"В Хэртланд не пускают чужаков, нужно найти способ попасть в город"})))):1==e?(0==n&&(e=2,O({textObj:_,index:2,showTextNpc:!0}),k({questName:"Начало",questArticle:"Георг поможет мне пройти в город, если я соберу его урожай"})),void(1==n&&(e=0,O({textObj:_,index:0,showTextNpc:!1})))):void(2!=e||(0==n?(a(),i("modal-loc","job-loc",!1),ue("Работа окончена, можно уходить","Ты работаешь в поле"),re=!0):(e=0,O({textObj:_,index:0,showTextNpc:!1}))))})})),ce=!1,guard.addEventListener("click",(function(){var e=0,t=s.georgQuest;if(i("modal-loc","guard-loc"),N(),t){var n=q[0].action;-1==n.indexOf("У меня есть пропуск")&&n.splice(2,0,"У меня есть пропуск")}if(ce)return O({textObj:q,index:2,showTextNpc:!0}),void(document.querySelector(".link-list").onclick=function(e){0==w(this,e)&&o()});O({textObj:q,index:0,showTextNpc:!0}),k({questName:"Начало",questArticle:"В Хэртланд не пускают чужаков, нужно найти способ попасть в город"}),document.querySelector(".link-list").onclick=function(n){var i=w(this,n);0==e&&(t?(2!=i&&3!=i&&P({textObj:q,textObjIndex:0,indexList:i}),2==i&&(e=1,O({textObj:q,index:1,showTextNpc:!0}),ce=!0,horinis_loc.classList.remove("hide-loc"),k({questName:"Начало",questArticle:"Я смог попасть в Хэртланд, нужно искать работу"})),3==i&&o()):2!=i?P({textObj:q,textObjIndex:0,indexList:i}):o()),1==e&&0==i&&o()}})),bernard.addEventListener("click",(function(){var e=0;i("modal-loc","bernard-loc"),N(),O({textObj:A,index:e,showTextNpc:!0}),document.querySelector(".link-list").onclick=function(t){var n=w(this,t);0!=e?1==e&&(3!=n?P({textObj:A,textObjIndex:e,indexList:n}):O({textObj:A,index:e=0,showTextNpc:!1})):0==n?O({textObj:A,index:e=1,showTextNpc:!0}):1==n?s.haveMap?dialogue.innerHTML="Карта уже куплена":p({transactNum:150,transactType:!1})?(dialogue.innerHTML="Карта куплена, теперь можно безопасно пройти в туманную лощину",s.haveMap=!0):dialogue.innerHTML="Не достаточно монет для покупки":o()}})),document.addEventListener("click",(function(e){e.target.classList.contains("panel-journal_btn")&&j()})),document.addEventListener("click",(function(e){e.target.classList.contains("modal-close_btn")&&o()})),x(),document.addEventListener("click",(function(e){e.target.classList.contains("panel-inv_btn")&&f()}))}]);
//# sourceMappingURL=bundle.js.map